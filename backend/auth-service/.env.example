# BuildHub Auth Service Configuration Template
# Copy this file to .env.docker (for Docker) or .env (for local development)

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
APP_ENV=development
RUST_LOG=debug,auth_service=debug
HOST=0.0.0.0
PORT=3000
APP_PORT=3000

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# For Docker: use 'postgres' as host
# For Local: use 'localhost' as host
DATABASE_URL=postgres://buildhub:your-password-here@postgres:5432/buildhub_auth
POSTGRES_USER=buildhub
POSTGRES_PASSWORD=your-password-here
POSTGRES_DB=buildhub_auth
POSTGRES_PORT=5433  # External port (5433 to avoid conflicts)

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
# For Docker: use 'redis' as host
# For Local: use 'localhost' or '127.0.0.1' as host
REDIS_URL=redis://redis:6379
REDIS_PORT=6380  # External port (6380 to avoid conflicts)

# ============================================================================
# JWT CONFIGURATION
# ============================================================================
# IMPORTANT: Generate a secure secret (minimum 32 characters)
# You can use: openssl rand -base64 32
JWT_SECRET=CHANGE-THIS-TO-A-SECURE-SECRET-AT-LEAST-32-CHARS
JWT_ACCESS_TOKEN_EXPIRES_IN=3600     # 1 hour
JWT_REFRESH_TOKEN_EXPIRES_IN=604800  # 7 days

# ============================================================================
# EMAIL CONFIGURATION (Required for registration)
# ============================================================================
# For Gmail:
# 1. Enable 2FA on your account
# 2. Generate app password: https://myaccount.google.com/apppasswords
# 3. Use the app password below
SMTP_SERVER=smtp.gmail.com
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password-here
SMTP_FROM_ADDRESS=your-email@gmail.com
FRONTEND_URL=http://localhost:3001

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3001

# ============================================================================
# TESTING & DEVELOPMENT
# ============================================================================
TEST_SECRET=test-secret-key
TEST_MODE=false
USE_DUMMY_EMAIL=false  # Set to true to log emails instead of sending

# ============================================================================
# MONITORING (Optional)
# ============================================================================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3002  # Using 3002 to avoid conflict with frontend
GRAFANA_PASSWORD=admin

# ============================================================================
# OPENTELEMETRY (Optional)
# ============================================================================
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317